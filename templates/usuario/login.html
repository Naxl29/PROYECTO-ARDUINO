<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <div class="login-box">
        <p>Iniciar sesión</p>
        <form id="campos" method="post" action="{{ url_for('login') }}">
            <div class="user-box">
                <input type="text" id="usuario" name="usuario" autocomplete="off">
                <label>Usuario</label>
            </div>
            <div class="user-box">
                <input type="password" id="contrasena" name="contrasena">
                <label>Contraseña</label>
            </div>
            <button type="submit" class="button">
                <div class="blob1"></div>
                <div class="inner">Iniciar</div>
            </button>
        </form>
        <p>¿No tienes una cuenta? <a href="{{ url_for('create') }}" class="a2">¡Regístrate!</a></p>
    </div>

    <script>
    document.getElementById('campos').addEventListener('submit', function (e) {
        const usuario = document.getElementById('usuario').value.trim();
        const contrasena = document.getElementById('contrasena').value.trim();

        if (usuario === '' || contrasena === '') {
            e.preventDefault(); 
            Swal.fire({
                icon: 'warning',
                title: 'Campos vacíos',
                text: 'Por favor, completa todos los campos.'
            }); 
        }
    });
    </script>
    
    {% if error_message %}
    <script>
        Swal.fire({
            icon: 'error',
            title: 'Error al iniciar sesión',
            text: '{{ error_message }}'
        });
    </script>
    {% endif %}
</body>
</html>

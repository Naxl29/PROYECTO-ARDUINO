/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

CREATE DATABASE IF NOT EXISTS `blockchain` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `blockchain`;

CREATE TABLE IF NOT EXISTS `blockchain` (
  `id` int NOT NULL AUTO_INCREMENT,
  `id_usuario` int NOT NULL,
  `fecha` datetime NOT NULL,
  `estado` tinyint(1) NOT NULL,
  `anterior_hash` varchar(64) NOT NULL,
  `hash` varchar(64) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `FK_blockchain_usuarios` (`id_usuario`),
  CONSTRAINT `FK_blockchain_usuarios` FOREIGN KEY (`id_usuario`) REFERENCES `usuarios` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=36 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

INSERT INTO `blockchain` (`id`, `id_usuario`, `fecha`, `estado`, `anterior_hash`, `hash`) VALUES
	(1, 1, '2025-05-05 00:39:48', 1, '0', 'f0c55f5375c4a021fcd54d9d7cf6bd212d0fee08cba6dcbe591242f1c31c34e6'),
	(2, 1, '2025-05-05 00:39:48', 0, 'f0c55f5375c4a021fcd54d9d7cf6bd212d0fee08cba6dcbe591242f1c31c34e6', 'f26015deebc3b8dc00b4ea13813d72c63e51035d065547b8d074d3e56acc439c'),
	(3, 1, '2025-05-05 01:44:03', 1, 'f26015deebc3b8dc00b4ea13813d72c63e51035d065547b8d074d3e56acc439c', '56ec5db60e5e95d09788c1e26c710f14630eec380914811c7f34707ccfdae309'),
	(4, 1, '2025-05-05 02:15:30', 1, '56ec5db60e5e95d09788c1e26c710f14630eec380914811c7f34707ccfdae309', '84db9016e400f53bed80330c68c041dc7ecc9a1ab2d9da6850ccba06de77de99'),
	(5, 1, '2025-05-05 02:15:31', 0, '84db9016e400f53bed80330c68c041dc7ecc9a1ab2d9da6850ccba06de77de99', '47453eab5713785ff1f3438e7aee58a671cd3a6faec23e487ded22315a219214'),
	(6, 1, '2025-05-05 07:40:35', 1, '47453eab5713785ff1f3438e7aee58a671cd3a6faec23e487ded22315a219214', 'cd4402dd5055e37554e4ff0d466542fa068eecd2c3a7793423f91e14a8102425'),
	(7, 1, '2025-05-05 07:40:35', 0, 'cd4402dd5055e37554e4ff0d466542fa068eecd2c3a7793423f91e14a8102425', '033146b0970f5b2593a1da9ac176fcfa4c936e7c6205c5dc70d6e9d4066d2aa3'),
	(8, 1, '2025-05-05 07:40:35', 1, '033146b0970f5b2593a1da9ac176fcfa4c936e7c6205c5dc70d6e9d4066d2aa3', '65f96489931acfaac9e658a41c13b68477b5b2292da261f15e44d9785bbad4a0'),
	(9, 1, '2025-05-05 07:40:36', 0, '65f96489931acfaac9e658a41c13b68477b5b2292da261f15e44d9785bbad4a0', '32fdec58c0d8303e03dda0507d5d6c15ec0199580809e15f772b1658a2da4cd5'),
	(10, 1, '2025-05-05 07:40:36', 1, '32fdec58c0d8303e03dda0507d5d6c15ec0199580809e15f772b1658a2da4cd5', '774b3752e7613eae2d9f3869c6fabae5cf2431724a3085fa37dfe52f0a8d1f54'),
	(11, 1, '2025-05-05 07:40:37', 0, '774b3752e7613eae2d9f3869c6fabae5cf2431724a3085fa37dfe52f0a8d1f54', '644359d74bf340552d861cbe009e6d4e4047f86c6129e8bc802fb4c0b3d307c7'),
	(12, 1, '2025-05-05 07:40:37', 1, '644359d74bf340552d861cbe009e6d4e4047f86c6129e8bc802fb4c0b3d307c7', '2380fdb753a96dad48df157019f0db5a924fe2e869b5cbc08e8bde8d507e20e8'),
	(13, 1, '2025-05-05 07:40:38', 0, '2380fdb753a96dad48df157019f0db5a924fe2e869b5cbc08e8bde8d507e20e8', '13a0d217d152b763d5acb6ca38b72f4c4617c010542f25b00e5d959edad2d8ed'),
	(14, 1, '2025-05-05 07:42:21', 1, '13a0d217d152b763d5acb6ca38b72f4c4617c010542f25b00e5d959edad2d8ed', 'cd3702583bf9894f5266230d9bb734dc75108bed182c2e303e871d06b36d9c82'),
	(15, 1, '2025-05-05 07:42:22', 0, 'cd3702583bf9894f5266230d9bb734dc75108bed182c2e303e871d06b36d9c82', '6736bbcb3f851627ff1bc12ff55a25beac989963621305d4dd702613fbf0de0c'),
	(16, 1, '2025-05-05 07:42:33', 1, '6736bbcb3f851627ff1bc12ff55a25beac989963621305d4dd702613fbf0de0c', '3353010038c87c7880f2d50a7adc5df4c5093783a0816601cd2054c64880dece'),
	(17, 1, '2025-05-05 07:42:34', 0, '3353010038c87c7880f2d50a7adc5df4c5093783a0816601cd2054c64880dece', '3c246bde6933f2b08d8f60f23e82679dce0785c19c062c822d6a44b55cbb5c2b'),
	(18, 1, '2025-05-05 07:42:38', 1, '3c246bde6933f2b08d8f60f23e82679dce0785c19c062c822d6a44b55cbb5c2b', 'e2d00f6e4cc38b8b19f48d721c36c4d8ef0d14b198ed8fe70d0953f4c06cf9aa'),
	(19, 1, '2025-05-05 07:42:40', 0, 'e2d00f6e4cc38b8b19f48d721c36c4d8ef0d14b198ed8fe70d0953f4c06cf9aa', 'eb66a870fc1599236ac5d98657db898ee46a7bb30dc01817631f19c9eb875040'),
	(20, 1, '2025-05-05 07:42:41', 1, 'eb66a870fc1599236ac5d98657db898ee46a7bb30dc01817631f19c9eb875040', 'c1a8085b4cc24bc4df7c3d0bda97ce54f76a132209a5eaa3b7f6a14ffbe6444c'),
	(21, 1, '2025-05-05 07:43:02', 1, 'c1a8085b4cc24bc4df7c3d0bda97ce54f76a132209a5eaa3b7f6a14ffbe6444c', '5a2db610a8738dcdf22e6155fe938add36d6cd0224d66e471d43d9b5b89fae99'),
	(22, 1, '2025-05-05 07:43:04', 0, '5a2db610a8738dcdf22e6155fe938add36d6cd0224d66e471d43d9b5b89fae99', '1019f5ce4957375a50bacb512a37a4cc08568ad969335411970ea3615351efcf'),
	(23, 2, '2025-05-05 07:49:33', 1, '1019f5ce4957375a50bacb512a37a4cc08568ad969335411970ea3615351efcf', '3875210d3b6a3df1a37be259417328ba704fe5ac3af05fdfbd1a9839548cfc7e'),
	(24, 2, '2025-05-05 07:49:33', 0, '3875210d3b6a3df1a37be259417328ba704fe5ac3af05fdfbd1a9839548cfc7e', 'a3990e4b449690edda08b15d93ccc7ce4c9417c2cd1529cb83f5b558457f1363'),
	(25, 2, '2025-05-05 07:58:46', 1, 'a3990e4b449690edda08b15d93ccc7ce4c9417c2cd1529cb83f5b558457f1363', '53f443b4732daea5a4c7ecdfac7433ea323003065e872fda274e36f0c809ed3f'),
	(26, 2, '2025-05-05 07:58:50', 0, '53f443b4732daea5a4c7ecdfac7433ea323003065e872fda274e36f0c809ed3f', 'edc06d2a4bd058146b5054c3e6405871d6e834007316807ae98f1c4f5f64a458'),
	(27, 2, '2025-05-05 07:58:50', 1, 'edc06d2a4bd058146b5054c3e6405871d6e834007316807ae98f1c4f5f64a458', '06fda6b22b677df1f33fc68c1f3a06b21a1d60ce6d8cd5fdb9c2ba334043d50f'),
	(28, 2, '2025-05-05 08:03:15', 1, '06fda6b22b677df1f33fc68c1f3a06b21a1d60ce6d8cd5fdb9c2ba334043d50f', '2fe18e241c34ab96e76ebd477a05f37cc20052a5b688aa7b36a2b3cd5ad285d0'),
	(29, 1, '2025-05-05 08:42:36', 1, '2fe18e241c34ab96e76ebd477a05f37cc20052a5b688aa7b36a2b3cd5ad285d0', '66d148af8c8b7a52e360d7a72942ef0d3903cd1278ecf376f6847863b941053d'),
	(30, 1, '2025-05-05 08:42:36', 0, '66d148af8c8b7a52e360d7a72942ef0d3903cd1278ecf376f6847863b941053d', 'd9a2f26badc1fa54b192808216ed1c5bf69b4fea05283808beeff53de31d071b'),
	(31, 2, '2025-05-05 08:51:25', 1, 'd9a2f26badc1fa54b192808216ed1c5bf69b4fea05283808beeff53de31d071b', '39a0551aba93de07f4678e04a623c0f3270823f26f90f3144d8d5a6ecb71e452'),
	(32, 2, '2025-05-05 08:51:37', 1, '39a0551aba93de07f4678e04a623c0f3270823f26f90f3144d8d5a6ecb71e452', 'b8a51320d6b53b588668059ec865c7d5b8ace00881fb46a2d66b884d2ade6506'),
	(33, 2, '2025-05-05 08:51:38', 0, 'b8a51320d6b53b588668059ec865c7d5b8ace00881fb46a2d66b884d2ade6506', 'cacd5217ccf3fca23d64abdc0645c4f2fb499e16a71a29db22c0d33b0fff9aaa'),
	(34, 1, '2025-05-05 08:52:02', 1, 'cacd5217ccf3fca23d64abdc0645c4f2fb499e16a71a29db22c0d33b0fff9aaa', '99f9c3be263983c2f870069819e7789638ee2007a2268fe0821a3e709c36e13f'),
	(35, 1, '2025-05-05 08:52:03', 0, '99f9c3be263983c2f870069819e7789638ee2007a2268fe0821a3e709c36e13f', '014d3caff85a38c8bf360136a973e3292d0b5df3f416498f80583577a6725422');

CREATE TABLE IF NOT EXISTS `usuarios` (
  `id` int NOT NULL AUTO_INCREMENT,
  `usuario` varchar(25) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `contrasena` varchar(25) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

INSERT INTO `usuarios` (`id`, `usuario`, `contrasena`) VALUES
	(1, 'juan', '1231'),
	(2, 'harol', '3131');

/*!40103 SET TIME_ZONE=IFNULL(@OLD_TIME_ZONE, 'system') */;
/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IFNULL(@OLD_FOREIGN_KEY_CHECKS, 1) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40111 SET SQL_NOTES=IFNULL(@OLD_SQL_NOTES, 1) */;
